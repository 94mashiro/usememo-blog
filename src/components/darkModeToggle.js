import React, { useCallback, useMemo } from 'react'
import Toggle from 'react-toggle'
import { useDarkMode } from '../utils/useDarkMode'
import './darkModeToggle.css'

const Moon = () => {
  return (
    <svg t="1571221822960" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13085" width="10" height="10"><path d="M923.306667 554.666667a42.666667 42.666667 0 0 0-44.8-5.973334 343.466667 343.466667 0 0 1-143.786667 31.146667 347.733333 347.733333 0 0 1-347.306667-345.6 366.506667 366.506667 0 0 1 10.666667-85.333333A42.666667 42.666667 0 0 0 341.333333 100.693333a432.64 432.64 0 1 0 597.333334 498.773334 42.666667 42.666667 0 0 0-15.36-44.8z m-405.333334 285.44A347.306667 347.306667 0 0 1 302.08 222.72v11.52a433.066667 433.066667 0 0 0 432.64 432.64 417.706667 417.706667 0 0 0 89.6-9.386667 346.026667 346.026667 0 0 1-306.346667 184.32z" p-id="13086" fill="#ffffff"></path></svg>
  )
}

const Sun = () => {
  return (
    <svg t="1571221907727" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13374" width="10" height="10"><path d="M240.64 725.333333l-30.293333 30.293334a42.666667 42.666667 0 0 0 0 60.16 42.666667 42.666667 0 0 0 60.16 0l30.293333-30.293334A42.666667 42.666667 0 0 0 240.64 725.333333zM213.333333 512a42.666667 42.666667 0 0 0-42.666666-42.666667H128a42.666667 42.666667 0 0 0 0 85.333334h42.666667a42.666667 42.666667 0 0 0 42.666666-42.666667z m298.666667-298.666667a42.666667 42.666667 0 0 0 42.666667-42.666666V128a42.666667 42.666667 0 0 0-85.333334 0v42.666667a42.666667 42.666667 0 0 0 42.666667 42.666666zM240.64 300.8a42.666667 42.666667 0 0 0 29.866667 12.373333 42.666667 42.666667 0 0 0 30.293333-12.373333 42.666667 42.666667 0 0 0 0-60.16l-30.293333-30.293333a42.666667 42.666667 0 0 0-60.16 60.16z m512 12.373333a42.666667 42.666667 0 0 0 29.866667-12.373333l30.293333-30.293333a42.666667 42.666667 0 1 0-60.16-60.16l-27.306667 30.293333a42.666667 42.666667 0 0 0 0 60.16 42.666667 42.666667 0 0 0 28.16 12.373333zM896 469.333333h-42.666667a42.666667 42.666667 0 0 0 0 85.333334h42.666667a42.666667 42.666667 0 0 0 0-85.333334z m-384 341.333334a42.666667 42.666667 0 0 0-42.666667 42.666666v42.666667a42.666667 42.666667 0 0 0 85.333334 0v-42.666667a42.666667 42.666667 0 0 0-42.666667-42.666666z m271.36-85.333334A42.666667 42.666667 0 0 0 725.333333 783.36l30.293334 30.293333a42.666667 42.666667 0 0 0 60.16 0 42.666667 42.666667 0 0 0 0-60.16zM512 277.333333a234.666667 234.666667 0 1 0 234.666667 234.666667A235.093333 235.093333 0 0 0 512 277.333333z m0 384a149.333333 149.333333 0 1 1 149.333333-149.333333 149.333333 149.333333 0 0 1-149.333333 149.333333z" p-id="13375" fill="#ffffff"></path></svg>
  )
}

const DarkModeToggle = () => {
  const { darkMode, toggleDarkMode } = useDarkMode({ darkClassName: 'dark', lightClassName: 'light' })
  const isChecked = useMemo(() => {
    return darkMode === 'dark'
  }, [darkMode])

  const handleToggleDarkMode = useCallback(event => {
    const checked = event.target.checked
    const updatedMode = checked ? 'dark' : 'light'
    toggleDarkMode(updatedMode)
  }, [toggleDarkMode])

  return (
    <div style={{height: 24}}>
      <Toggle checked={isChecked} onChange={handleToggleDarkMode} icons={{ checked: <Moon />, unchecked: <Sun /> }}/>
    </div>
  )
}

export default DarkModeToggle